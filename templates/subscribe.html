{% load static %}
{% block css %}
<style>

	/* The Modal (background) */
	#subscribeModal {
		display: none;
		
		/* Hidden by default */
	}
	
	.subscribemodal {
		position: fixed;
		z-index: 3;
		/* Stay in place */
		/* Sit on top */
		left: 0;
		top: 0;
		width: 100%;
		height: 100%;
		overflow: auto;
		/* Enable scroll if needed */
		background-color: rgb(0, 0, 0);
		/* Fallback color */
		background-color: rgba(0, 0, 0, 0.4);
		/* Black w/ opacity */
	}

	/* Modal Content/Box */
	.subscribe-modal-content {
		/* background: no-repeat center center fixed url('static/images/contact/img1.jpg');
        background-size: cover; */
		background-color: #ffffff;
		margin: 10% auto;
		padding: 20px;
		border: 1px solid #888;
		box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19);
		width: 35%;
		height: 200px;

	}

	.subscribe-modal-content h4 {
		color: black;
		margin: 15% auto;
		width: 85%;
		font-size: 16px;
	}

	/* The Close Button */
	.subscribe-close {
		color: rgb(179 173 173);
		float: right;
		font-size: 28px;
		font-weight: bold;
	}

	.subscribe-close:hover,
	.subscribe-close:focus {
		color: black;
		text-decoration: none;
		cursor: pointer;
	}

	@media only screen and (max-width:1080px) {
	

		.subscribe-modal-content {
			margin: 57% auto;
			width: 70%;
			height: 233px;
		}

		.subscribe-modal-content h4 {
			margin: 37% auto;
			width: 100%;
			font-size: 11px;
		}
	}
</style>
{% endblock %}
<!--subscribe start-->
<section id="subs" class="subscribe">
	<div class="container">
		<div class="subscribe-title text-center">
			<h2>
				Join our Subscribers List to Get Regular Update
			</h2>
			<p>
				Subscribe Now. We will send you Best offer for your Trip
			</p>
		</div>
		<form id="subscribeForm" method="POST"> {% csrf_token %}
			<div class="row">
				<div class="col-md-6 col-md-offset-3 col-sm-8 col-sm-offset-2">
					<div class="custom-input-group">
						<input type="email" name="email" class="form-control" placeholder="Enter your Email Here"
							required>
						<button class="appsLand-btn subscribe-btn" id="subscribeBtn" type="submit">Subscribe</button>
						<div class="clearfix"></div>
						<i class="fa fa-envelope"></i>
					</div>
				</div>
			</div>
		</form>

		<div id="subscribeModal" class="subscribemodal">

			<!-- Modal content -->
			<div class="subscribe-modal-content">
				<span class="subscribe-close" id="subscribeCloseBtn">&times;</span>
				<h4 id="successmsg">
				</h4>

			</div>

		</div>

	</div>

</section>
<!--subscribe end-->
<script src="https://code.jquery.com/jquery-3.6.0.js" integrity="sha256-H+K7U5CnXl1h5ywQfKtSj8PCmoN9aaq30gDh27Xc0jk="
	crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.6/umd/popper.min.js"
	integrity="sha384-wHAiFfRlMFy6i5SRaxvfOCifBUQy1xHdJ/yoi7FRNXMRBu5WHdZYu1hA6ZOblgut"
	crossorigin="anonymous"></script>

<script>

	$('#subscribeForm').submit(function (event) {
		event.preventDefault();

		var serializedData = $(this).serialize();
		$.ajax({
			type: 'POST',
			url: '{% url "subscribe" %}',
			data: serializedData,

			success: function (message) {
				// clear form data when user submits it 
				$("#subscribeForm").trigger('reset');
				// append the data we got from backend
				document.getElementById('successmsg').innerHTML = message.message;
				// //  when user submits the form
				var subscribemodal = document.getElementById('subscribeModal');
				subscribemodal.style.display = 'block';

				// // when user clicks the close button
				var subscribeClosebtn = document.getElementById('subscribeCloseBtn');
				subscribeClosebtn.onclick = function () {
					subscribemodal.style.display = 'none';
				}
				// // When the user clicks anywhere outside of the modal, close it
				window.onclick = function (event) {
					if (event.target == subscribemodal) {
						subscribemodal.style.display = "none";
					}
				}
			}
		});

	});
</script>